<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Danh s√°ch Ph√≤ng / Gi∆∞·ªùng</title>
  <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.3/css/bootstrap.min.css}">
</head>
<body class="bg-light">

<th:block th:replace="~{_header :: _header}"></th:block>

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap">
    <h3 class="text-primary mb-2">üõè Danh s√°ch Ph√≤ng / Gi∆∞·ªùng</h3>

    <!-- T√¨m ki·∫øm -->
    <form class="d-flex mb-2" th:action="@{/rooms}" method="get">
      <input class="form-control me-2" type="search" name="keyword" th:value="${keyword}"
             placeholder="üîç T√¨m theo m√£ ho·∫∑c lo·∫°i ph√≤ng...">
      <button class="btn btn-outline-primary" type="submit">T√¨m</button>
    </form>

    <div>
      <a href="/rooms/new" class="btn btn-success mb-2">‚ûï Th√™m ph√≤ng</a>
      <a href="/" class="btn btn-secondary mb-2">Trang ch·ªß</a>
    </div>
  </div>

  <table class="table table-hover table-bordered bg-white shadow-sm">
    <thead class="table-primary text-center">
    <tr>
      <th>ID</th>
      <th>M√£ ph√≤ng</th>
      <th>Lo·∫°i</th>
      <th>S·ª©c ch·ª©a</th>
      <th>ƒêang s·ª≠ d·ª•ng</th>
      <th>Khoa</th>
      <th>Thao t√°c</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="room : ${rooms}">
      <td th:text="${room.id}"></td>
      <td th:text="${room.code}"></td>
      <td th:text="${room.type}"></td>
      <td th:text="${room.capacity}"></td>
      <td th:text="${room.occupied}"></td>
      <td th:text="${room.department != null ? room.department.name : 'Ch∆∞a ph√¢n khoa'}"></td>
      <td class="text-center">
        <a th:href="@{/rooms/edit/{id}(id=${room.id})}" class="btn btn-warning btn-sm">‚úè S·ª≠a</a>
        <a th:href="@{/rooms/delete/{id}(id=${room.id})}"
           class="btn btn-danger btn-sm"
           onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën xo√° ph√≤ng n√†y?');">üóë X√≥a</a>
      </td>
    </tr>
    <tr th:if="${#lists.isEmpty(rooms)}">
      <td colspan="7" class="text-center text-muted fst-italic">Kh√¥ng t√¨m th·∫•y ph√≤ng n√†o.</td>
    </tr>
    </tbody>
  </table>
</div>

<th:block th:replace="~{_footer :: _footer}"></th:block>
<script th:src="@{/webjars/bootstrap/5.3.3/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
